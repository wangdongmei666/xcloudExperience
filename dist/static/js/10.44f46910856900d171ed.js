webpackJsonp([10],{"30hU":function(a,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("section",[e("h1",[a._v("正式版适配效果丢失问题排查")]),a._v(" "),e("br"),a._v(" "),e("h2",{attrs:{id:"yi-jian-cha-yi-ju-hua-dai-ma-shi-fou-tian-jia-zheng-chang"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#yi-jian-cha-yi-ju-hua-dai-ma-shi-fou-tian-jia-zheng-chang","aria-hidden":"true"}},[a._v("¶")]),a._v(" 一、检查一句话代码是否添加正常")]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        描述：")]),a._v("从PC端复制添加的一句话代码与项目的一句话代码是否相吻合,目前出现的一些问题极有可能是客户在进行代码添加时，在某些页面漏加了一句话代码导致适配失效。")]),a._v(" "),e("br"),a._v(" "),e("h2",{attrs:{id:"er-jian-cha-gua-pei-xiang-mu-zhong-shi-fou-you-dai-ma-bao-cuo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#er-jian-cha-gua-pei-xiang-mu-zhong-shi-fou-you-dai-ma-bao-cuo","aria-hidden":"true"}},[a._v("¶")]),a._v(" 二、检查适配项目中是否有代码报错")]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        描述：")]),a._v("因为PC端某些数据的变化或导致dom结构的变化,以及适配人员在项目适配时未进行报错处理，导致某些API节点为null或undefined导致项目报错，从而最终导致适配效果丢失。")]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        解决思路：")]),a._v("在chrome模拟器中打开控制台进行报错查看，进行问题排查及适配代码整改。")]),a._v(" "),e("br"),a._v(" "),e("h2",{attrs:{id:"san-jian-shi-gua-pei-xiang-mu-zhong-shi-fou-you-shi-yonges6-yu-fa"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#san-jian-shi-gua-pei-xiang-mu-zhong-shi-fou-you-shi-yonges6-yu-fa","aria-hidden":"true"}},[a._v("¶")]),a._v(" 三、检视适配项目中是否有使用ES6语法")]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        描述：")]),a._v("使用了ES6语法后，在预览版上是正常输出(有时会出现项目丢失效果),但正式发布后控制台无报错，适配效果丢失。")]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        原因：")]),a._v("Xcloud平台不支持ES6语法。")]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        解决思路：")]),a._v("进行项目代码整改，在全局search搜索ES6相关语法,查看是否存在ES6相关语法。")]),a._v(" "),e("br"),a._v(" "),e("h2",{attrs:{id:"si-cha-kan-cha-ru-dejs-jian-chadomains-shi-fou-bao-han-you-gai-yu-ming"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#si-cha-kan-cha-ru-dejs-jian-chadomains-shi-fou-bao-han-you-gai-yu-ming","aria-hidden":"true"}},[a._v("¶")]),a._v(" 四、查看插入的js，检查domains是否包含有该域名")]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        描述：")]),a._v("注意如果是IP地址的测试环境，domains中不需要含有端口号，否则会不适配。如图：")]),a._v(" "),e("br"),a._v(" "),e("p",[e("img",{attrs:{src:r("X9T/"),alt:"示例",title:"规范"}})]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        解决思路：")]),a._v("可通过在IDE中添加域名别名来解决")]),a._v(" "),e("br"),a._v(" "),e("h2",{attrs:{id:"wu-dui-gua-pei-bao-lu-jing-jin-xing-fang-wen-ce-shi-shi-fou-neng-fang-wen-dao-dai-ma-bao"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#wu-dui-gua-pei-bao-lu-jing-jin-xing-fang-wen-ce-shi-shi-fou-neng-fang-wen-dao-dai-ma-bao","aria-hidden":"true"}},[a._v("¶")]),a._v(" 五、对适配报路径进行访问，测试是否能访问到代码包")]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        描述：")]),a._v("适配效果丢失，有可能是项目代码包访问不到，可直接打开PC端检查，对一句话代码进行右击访问测试，在进行下一步排查。")]),a._v(" "),e("br"),a._v(" "),e("h2",{attrs:{id:"liu-cha-ru-dai-ma-hou-chu-xian-de-jian-rong-xing-wen-ti"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#liu-cha-ru-dai-ma-hou-chu-xian-de-jian-rong-xing-wen-ti","aria-hidden":"true"}},[a._v("¶")]),a._v(" 六、插入代码后出现的兼容性问题")]),a._v(" "),e("br"),a._v(" "),e("p",[e("img",{attrs:{src:r("EZYg"),alt:"示例",title:"规范"}})]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        问题原理分析：")]),a._v("因对方原PC网站在IE7下就存在着兼容性问题，如果我们的代码直接放置第一行head头，可能会改变360的IE兼容浏览器默认等级(如从默认IE11变成了默认IE7)。")]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        解决思路：")]),a._v('我们的js代码放于<meta name= "renderer" content = "webkit">这行代码下即可。后续客户有这种360或者IE插入我们的代码后，出现兼容性问题的都可以这样来解决。')]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        引申：")]),a._v('如果在IE8有问题，可以增加以下标签：<meta http-equiv="X-UA-Compatible" content="IE=edge">,代表以最高级模式渲染文档 来解决这个问题。')]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        X-UA-Compatible是神马？")])]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("                文档：")]),a._v("https://www.modern.ie/en-us/performance/how-to-use-x-ua-compatible")]),a._v(" "),e("br"),a._v(" "),e("p",[a._v("                X-UA-Compatible是IE8的一个专有<meta>属性，它告诉IE8采用何种IE版本去渲染网页，在html的<head>标签中使用。可以在微软官方文档获取更多介绍。")]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        为什么要用X-UA-Compatible？")])]),a._v(" "),e("br"),a._v(" "),e("p",[a._v("                在IE8刚推出的时候，很多网页由于重构的问题，无法适应较高级的浏览器，所以使用X-UA-Compatible标签强制IE8采用低版本方式渲染。")]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("                参考：")]),a._v("http://zccst.iteye.com/blog/2162187")]),a._v(" "),e("br"),a._v(" "),e("h2",{attrs:{id:"qi-gua-pei-wang-zhan-bei-bai-du-zhuan-ma"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#qi-gua-pei-wang-zhan-bei-bai-du-zhuan-ma","aria-hidden":"true"}},[a._v("¶")]),a._v(" 七、适配网站被百度转码")]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        描述：")]),a._v('如果用户的网站加了<meta http-equiv="Cache-Control" content="no-transform" />依旧被转码，可到百度的站长中心-反馈中心进行反馈。可能百度爬虫存在误杀的情况。如果之前没加过，则添加该代码，过几天即可。')]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        反馈中心：")]),a._v("https://ziyuan.baidu.com/feedback/index")]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        引申——no-transform协议：")]),a._v("那么，如果站长不希望自己的站点被转码、依然希望手机端用户浏览PC页该如何操作呢？可以使用no-transform协议，no-transform协议为如下两种形式：")]),a._v(" "),e("br"),a._v(" "),e("p",[a._v("        第一种，HTTP Response中显式声明Cache-control为no-transform。")]),a._v(" "),e("br"),a._v(" "),e("p",[a._v("        第二种，meta标签中显式声明Cache-control为no-tranform，格式为：")]),a._v(" "),e("br"),a._v(" "),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{class:"hljs language-html"}},[a._v("　　"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[a._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[a._v("head")]),a._v(">")]),a._v(" \n　　    "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[a._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[a._v("meta")]),a._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[a._v("http-equiv")]),a._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[a._v('"Cache-Control"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[a._v("content")]),a._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[a._v('"no-transform "')]),a._v(" />")]),a._v(" \n　　"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[a._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[a._v("head")]),a._v(">")]),a._v(" \n")])]),a._v(" "),e("br"),a._v(" "),e("p",[e("b",[a._v("        相关链接地址：")]),a._v("http://zhanzhang.baidu.com/college/articleinfo?id=233")]),a._v(" "),e("br"),a._v(" "),e("div",{staticStyle:{color:"red"}},[e("p",[e("b",[a._v("        注意：")]),a._v("加上no-transform协议后不会立即生效，大约需要一周时间。")])]),a._v(" "),e("br")])}]},n=r("VU/8")(null,e,!1,null,null,null);t.default=n.exports},"7okd":function(a,t,r){a.exports=r("30hU")},EZYg:function(a,t,r){a.exports=r.p+"static/img/bi.29bbc5c.jpg"},"X9T/":function(a,t,r){a.exports=r.p+"static/img/bh.d2200fd.jpg"}});
//# sourceMappingURL=10.44f46910856900d171ed.js.map